<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gero - Firebase Integration</title>

    <!-- Firebase App (core SDK) -->
    <script src="https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js"></script>
    
    <!-- Firestore -->
    <script src="https://www.gstatic.com/firebasejs/12.5.0/firebase-firestore.js"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCKVbKlfH83XULHnmoyZ_gip3UrxO_i-bc",
        authDomain: "gero-ai.firebaseapp.com",
        projectId: "gero-ai",
        storageBucket: "gero-ai.firebasestorage.app",
        messagingSenderId: "531066296143",
        appId: "1:531066296143:web:c7d590717d81826837d73a",
        measurementId: "G-H6THGVTKTR"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>

    <script>
      function saveInfo() {
        db.collection("firebase_integration").add({
          output1: $("#input-firstname").val(),
          output2: $("#input.lastname").val(),
          timestamp: new Date()
        }).then(() => {
          console.log("Saved!");
        });
      }
    </script>


</head>
<body>
    <h1> - GERO - </h1>

    <!-- Trying making a sample form with display table here so we could observe the interaction among firebase database and the website itself-->

    <!-- form for example -->
    <div class="fill-up-form">
        <label for="input-firstname">Name: </label><input type="text" id="input-firstname">
        <label for="input-lastname">Last Name: </label><input type="text" id="input-lastname">

        <button onclick="saveInfo()">Add</button>
    </div>

    <div class="div-table-container">
        <table id="table-info" border="1">
            <th>
            </th>

            <script type="module">
                $(document).ready(async function() {
                    const snapshot = await getDocs(collection(db, "firebase_integration"));
                    snapshot.forEach((doc) => {
                      const d = doc.data();
                      $("#table-info tbody").append(`
                        <tr>
                          <td>${doc.id}</td>
                          <td>${d.firstname || ''}</td>
                          <td>${d.lastname || ''}</td>
                        </tr>
                      `);
                    });
                });
            </script>

        </table>
    </div>
</body>
</html>

